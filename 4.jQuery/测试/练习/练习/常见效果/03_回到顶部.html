<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>03_回到顶部</title>
  <style>
    #to_top {
      width: 30px;
      height: 40px;
      font: 14px/20px arial;
      text-align: center;
      background: #06c;
      position: fixed;
      cursor: pointer;
      color: #fff;
      left: 1250px;
      top: 500px;
    }
  </style>
</head>
<body style="height: 2000px;">

<div id="to_top">返回顶部</div>

<script src="jquery-1.10.1.js"></script>
<script>
  $(function(){
    var timeAll = 1000;
    var timePer = 40;

    $('#to_top').click(function(){
      var offset = $('html').scrollTop()+$('body').scrollTop();
      var offsetFrames = offset / (timeAll / timePer);

      var timer = setInterval(function(){
        offset -= offsetFrames;
        if (offset <= 0 ) {
          offset = 0;
          clearInterval(timer);
        }

        $('html,body').scrollTop(offset);
      },timePer)

    })
    
  })

  // 总时长/每一帧的时长= 一共多少帧
  // 定义滚动条距离顶部的距离offset
  // 用offset / 帧数 = 每一帧走的长度
  // 设置定时器，单位是每一帧的时长。
  // 将offset设置为每走一帧就减少相应的路程
  // 最终得到滚动条的实时滚动距离
  // 判断临界值，清除定时器

</script>
</body>

</html>